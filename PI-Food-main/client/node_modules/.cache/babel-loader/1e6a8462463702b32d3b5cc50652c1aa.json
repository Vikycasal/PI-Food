{"ast":null,"code":"var _jsxFileName = \"/Users/victoriacasal/Desktop/Food/PI-Food-main/PI-Food/PI-Food-main/client/src/components/RecipeCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from 'react-router-dom';\nimport { postRecipe, getRecipeType } from '../actions/index';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from '../styles/RecipeCreate.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RecipeCreate() {\n  _s();\n\n  const dispatch = useDispatch();\n  const types = useSelector(state => state.recipeTypes);\n  const history = useHistory();\n  const [err, setErr] = useState({});\n  const [btnSend, setBtnSend] = useState(false);\n  /****control de errores */\n\n  function validar(input) {\n    let err = {};\n\n    if (!input.name) {\n      err.name = \"Debe ingresar un Nombre.\";\n      setBtnSend(false);\n    } else if (!input.resume) {\n      err.resume = \"Debe ingresar un Resumen.\";\n      setBtnSend(false);\n    } else {\n      setBtnSend(true);\n    }\n\n    return err;\n  }\n\n  const [input, setInput] = useState({\n    name: \"\",\n    score: \"\",\n    healthylevel: \"\",\n    resume: \"\",\n    stepbystep: \"\",\n    image: \"\",\n    diets: []\n  });\n\n  function handleChange(e) {\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErr(validar({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handleSelect(e) {\n    setInput({ ...input,\n      diets: [...input.diets, e.target.value]\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!input.diets.length) {\n      return alert(\"Debe cargar tipo de dieta\");\n    } else {\n      if (!input.image) input.image = \"https://cdn.pixabay.com/photo/2014/12/21/23/28/recipe-575434_960_720.png\";\n      dispatch(postRecipe(input));\n      alert(\"Receta creada\");\n      setInput({\n        name: \"\",\n        score: \"\",\n        healthylevel: \"\",\n        resume: \"\",\n        stepbystep: \"\",\n        image: \"\",\n        diets: []\n      });\n      history.push('/home');\n    }\n  }\n\n  useEffect(() => {\n    dispatch(getRecipeType());\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.contenedor,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.box,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Crear Receta Nueva\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nombre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input.name,\n            name: \"name\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 41\n          }, this), err.name && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.error,\n            children: err.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Puntaje:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input.score,\n            name: \"score\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nivel Saludable:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input.healthylevel,\n            name: \"healthylevel\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Resumen:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input.resume,\n            name: \"resume\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 41\n          }, this), err.resume && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.error,\n            children: err.resume\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Pasos:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input.stepByStep,\n            name: \"stepByStep\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Imagen:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input.image,\n            name: \"image\",\n            onChange: e => handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tipo Dieta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => handleSelect(e),\n            name: \"diets\",\n            children: types.map(t => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"option\", {\n                value: t.name,\n                children: t.name\n              }, t.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 65\n              }, this)\n            }, t.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 61\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.footer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles._rcpbotton,\n              type: \"submit\",\n              disabled: !btnSend,\n              children: \"Crear Receta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/home\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Volver\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 17\n  }, this);\n}\n\n_s(RecipeCreate, \"jTEQvSuCzQAehU3Nab34eJUkgTo=\", false, function () {\n  return [useDispatch, useSelector, useHistory];\n});\n\n_c = RecipeCreate;\nexport default RecipeCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeCreate\");","map":{"version":3,"sources":["/Users/victoriacasal/Desktop/Food/PI-Food-main/PI-Food/PI-Food-main/client/src/components/RecipeCreate.jsx"],"names":["React","useState","useEffect","Link","useHistory","postRecipe","getRecipeType","useDispatch","useSelector","styles","RecipeCreate","dispatch","types","state","recipeTypes","history","err","setErr","btnSend","setBtnSend","validar","input","name","resume","setInput","score","healthylevel","stepbystep","image","diets","handleChange","e","target","value","handleSelect","handleSubmit","preventDefault","length","alert","push","contenedor","box","error","stepByStep","map","t","id","footer","_rcpbotton"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {Link, useHistory} from 'react-router-dom';\nimport {postRecipe, getRecipeType} from '../actions/index';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from '../styles/RecipeCreate.module.css';\n\n\nfunction RecipeCreate() {\n        const dispatch = useDispatch();\n        const types = useSelector((state) => state.recipeTypes)\n        const history = useHistory();\n        const [err, setErr] = useState({});\n\n        const [btnSend, setBtnSend] = useState(false);\n       \n        /****control de errores */\n        function validar(input){\n                let err = {};\n                if(!input.name){\n                        err.name=\"Debe ingresar un Nombre.\";\n                        setBtnSend(false);\n                }else if(!input.resume){\n                        err.resume=\"Debe ingresar un Resumen.\";\n                        setBtnSend(false);\n                }else{\n                        setBtnSend(true);\n                }\n                return err;\n        }\n        const [input, setInput] = useState({\n                name: \"\",\n                score:\"\",\n                healthylevel:\"\",\n                resume: \"\",\n                stepbystep:\"\",\n                image:\"\",\n                diets:[],\n        })\n\n        function handleChange(e){\n                setInput({\n                        ...input,\n                        [e.target.name]: e.target.value,\n                })\n                \n                setErr(validar({\n                        ...input,\n                        [e.target.name]: e.target.value,\n                }))\n                \n        }\n\n        \n\n        function handleSelect(e){\n               \n                setInput({\n                        ...input,\n                        diets: [...input.diets, e.target.value],\n                })\n        }\n\n        function handleSubmit(e){\n                e.preventDefault();\n                if(!input.diets.length){\n                        return alert(\"Debe cargar tipo de dieta\")\n                }else{\n                    if(!input.image) input.image=\"https://cdn.pixabay.com/photo/2014/12/21/23/28/recipe-575434_960_720.png\"\n                    dispatch(postRecipe(input));\n                    alert(\"Receta creada\")\n                    setInput({\n                          name: \"\",\n                          score:\"\",\n                          healthylevel:\"\",\n                          resume: \"\",\n                          stepbystep:\"\",\n                          image:\"\",\n                          diets:[],  \n                        })\n                        history.push('/home');\n                }\n        }\n        \n        useEffect(() => {\n                dispatch(getRecipeType());\n        },[dispatch]);\n\n        \n        return (\n                <div className={styles.contenedor}>\n                        <div className={styles.box}>\n                        <h1>Crear Receta Nueva</h1>\n                        <form onSubmit={(e) => handleSubmit(e)}>\n                                <div>\n                                        <label>Nombre:</label>\n                                        <input type=\"text\" value={input.name} name=\"name\"onChange={(e) => handleChange(e)}/>\n                                        {\n                                                err.name && (\n                                                        <p className={styles.error}>{err.name}</p>\n                                                )\n                                        }\n                                </div>\n                                <div>\n                                        <label>Puntaje:</label>\n                                        <input type=\"text\" value={input.score} name=\"score\"onChange={(e) => handleChange(e)}/>\n                                </div>\n                                <div>\n                                        <label>Nivel Saludable:</label>\n                                        <input type=\"text\" value={input.healthylevel} name=\"healthylevel\"onChange={(e) => handleChange(e)}/>\n                                </div>\n                                <div>\n                                        <label>Resumen:</label>\n                                        <input type=\"text\" value={input.resume} name=\"resume\"onChange={(e) => handleChange(e)}/>\n                                        {\n                                                err.resume && (\n                                                        <p className={styles.error}>{err.resume}</p>\n                                                )\n                                        }\n                                </div>\n                                <div>\n                                        <label>Pasos:</label>\n                                        <input type=\"text\" value={input.stepByStep} name=\"stepByStep\" onChange={(e) => handleChange(e)}/>\n                                </div>\n                                <div>\n                                        <label>Imagen:</label>\n                                        <input type=\"text\" value={input.image} name=\"image\" onChange={(e) => handleChange(e)}/>\n                                </div>\n                                <div>\n                                        <label>Tipo Dieta:</label>\n                                        <select onChange={(e) => handleSelect(e)} name=\"diets\">\n                                                {\n                                                       types.map((t) => (\n                                                            <React.Fragment key={t.id}>\n                                                                <option value={t.name} key={t.id}>{t.name}</option>\n                                                            </React.Fragment>\n                                                        ))\n                                                        \n                                                }\n                                        </select>\n                                        \n                                </div>\n                                <div className={styles.footer}>\n                                        <div>\n                                               <button className={styles._rcpbotton} type=\"submit\" disabled={!btnSend}>Crear Receta</button>\n                                        </div>\n                                        <div>\n                                                <Link to='/home'><button>Volver</button></Link>\n                                        </div>\n                                </div>\n\n                        </form>\n                        </div>\n                </div>\n        )\n}\n\nexport default RecipeCreate"]},"metadata":{},"sourceType":"module"}